!function(){"use strict";const e=document.querySelector(".header__search-input"),t=document.querySelector(".header__search-span"),n=document.querySelector(".header__location"),r=document.querySelector(".weather__city-name"),o=document.querySelector(".weather__city-date"),a=document.querySelector(".weather__current-temperature"),c=document.querySelector(".weather__current-feels_temperature"),i=document.querySelector("#currSunriseTime"),u=document.querySelector("#currSunsetTime"),s=document.querySelector(".weather__current-icon"),d=document.querySelector(".weather__current-weather"),l=document.querySelector("#currHumidity"),m=document.querySelector("#currWind"),y=document.querySelector("#currPressure"),h=document.querySelector("#currUv");document.querySelectorAll(".dynamic-data");const p=async(e,t)=>{alert(e),document.addEventListener("keydown",(e=>{"Escape"===e.code&&console.log("zaaazazaaza")}))},w=document.querySelector(".header__darkmode-check"),g=document.querySelector(".header__darkmode-text");function _(){const t=e.value.trim();(async(e,t)=>{try{await(async(e,t)=>{let n;n=e.lat&&e.lon?`https://api.openweathermap.org/data/2.5/weather?lat=${e.lat}&lon=${e.lon}&appid=${t}&units=metric`:`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}&units=metric`;const p=await fetch(n);if(!p.ok)throw 404===p.status?new Error(`Sorry, we couldn't find ${e}. Please double-check the spelling and try again.`):new Error("Oops! We are having trouble with getting tha last weather information right now. Please try again later or contact support if the problem persists.");const w=await p.json(),{name:g,visibility:_,dt:S}=w,{speed:q}=w.wind,{temp:k,feels_like:x,humidity:C,pressure:f}=w.main,{icon:v,description:E}=w.weather[0],{sunrise:L,sunset:$}=w.sys;r.textContent=g,o.textContent=S,a.textContent=k,c.textContent=x,i.textContent=L,u.textContent=$,s.src=v,d.textContent=E,l.textContent=`${C} %`,m.textContent=q,y.textContent=`${f} hPa`,h.textContent=_})(e,"e732a92c66574d856b927e390c09674e")}catch(e){"Failed to fetch"===e.message?await p("Oh! It looks like you're not connected to the internet. Please check your connection and try again."):await p(e.message)}})(t),console.log(t)}w.addEventListener("change",(()=>{document.body.classList.toggle("dark"),document.body.classList.contains("dark")?g.textContent="Dark Mode":g.textContent="Light Mode"})),t.addEventListener("click",_),e.addEventListener("keyup",(e=>{"Enter"==e.key&&_()})),n.addEventListener("click",(async()=>{navigator.geolocation.getCurrentPosition((async e=>{const t={lat:e.coords.latitude,lon:e.coords.longitude};console.log(t)}),(e=>{console.log(e)}))}))}();