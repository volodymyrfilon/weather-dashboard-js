!function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{Z:function(){return b}});const t="e732a92c66574d856b927e390c09674e",r=document.querySelector(".header__search-input"),n=document.querySelector(".header__search-span"),a=document.querySelector(".header__location"),o=document.querySelector(".weather__city-name"),c=(document.querySelector("weather__city-time"),document.querySelector(".weather__city-date")),u=document.querySelector(".weather__current-temperature"),i=document.querySelector(".weather__current-feels_temperature"),s=document.querySelector("#currSunriseTime"),d=document.querySelector("#currSunsetTime"),l=document.querySelector(".weather__current-icon"),y=document.querySelector(".weather__current-weather"),h=document.querySelector("#currHumidity"),m=document.querySelector("#currWind"),w=document.querySelector("#currPressure"),g=document.querySelector("#currVisibility"),p=document.querySelectorAll(".dynamic-data"),S=async(e,t)=>{const r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date(1e3*e),a=n.getDate(),o=n.getMonth(),c=n.getDay(),u=n.getHours().toString().padStart(2,"0"),i=n.getMinutes().toString().padStart(2,"0"),s=`${a} ${["January","February","March","April","May","June","July","August","September","October","November","December"][o]} ${r[c]}`,d=`${r[c]}, ${a} ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][o]}`;switch(t){case"day":return r[c];case"hour":return`${u}:${i}`;case"short":return d;default:return s}},_=async e=>(e=>e<10&&e>=0?`0${e}°C`:`${e}°C`)(Math.round(e));var $=async()=>{navigator.geolocation.getCurrentPosition((async e=>{const r={lat:e.coords.latitude,lon:e.coords.longitude};console.log(r),await b(r,t)}),(e=>{console.log(e),b("Kyiv",t)}))};const q=async(e,t)=>{alert(e),document.addEventListener("keydown",(e=>{"Escape"===e.code&&console.log("zaaazazaaza")}))};a.addEventListener("click",$),$();const k=async(e,t)=>{try{await(async()=>{r.blur();for(let e=0;e<p.length;e++)p[e].classList.add("loading")})(),await(async(e,t)=>{let r;r=e.lat&&e.lon?`https://api.openweathermap.org/data/2.5/weather?lat=${e.lat}&lon=${e.lon}&appid=${t}&units=metric`:`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}&units=metric`;const n=await fetch(r);if(!n.ok)throw 404===n.status?new Error(`Sorry, we couldn't find ${e}. Please double-check the spelling and try again.`):new Error("Oops! We are having trouble with getting tha last weather information right now. Please try again later or contact support if the problem persists.");const a=await n.json(),{name:p,visibility:$,dt:q}=a,{speed:k}=a.wind,{temp:b,feels_like:f,humidity:v,pressure:C}=a.main,{icon:x,description:M}=a.weather[0],{sunrise:L,sunset:E}=a.sys;o.textContent=p,c.textContent=await S(q,"short"),u.textContent=await _(b),i.textContent=await _(f),s.textContent=`${await S(L,"hour")} AM`,d.textContent=`${await S(E,"hour")} PM`,l.src=x,y.textContent=M,h.textContent=`${v} %`,m.textContent=await(async e=>`${Math.round(3.6*e)} km/h`)(k),w.textContent=`${C} hPa`,g.textContent=await(async e=>e/1e3+" km")($)})(e,t),await(async()=>{for(let e=0;e<p.length;e++)p[e].classList.remove("loading"),console.log(e)})()}catch(e){"Failed to fetch"===e.message?await q("Oh! It looks like you're not connected to the internet. Please check your connection and try again."):await q(e.message)}};var b=k;function f(){const e=r.value.trim();k(e,t),console.log(e)}n.addEventListener("click",f),r.addEventListener("keyup",(e=>{"Enter"==e.key&&f()}));const v=document.querySelector(".header__darkmode-check"),C=document.querySelector(".header__darkmode-text");v.addEventListener("change",(()=>{document.body.classList.toggle("dark"),document.body.classList.contains("dark")?C.textContent="Dark Mode":C.textContent="Light Mode"}))}();